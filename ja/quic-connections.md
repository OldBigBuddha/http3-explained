# コネクション

QUIC コネクションは2つの QUIC エンドポイント間における一対の対話です。QUIC のコネクションの確立は、レイテンシを低減するために、バージョンネゴシエーションと暗号化およびトランスポートハンドシェイクを組み合わせています。

実際にそのようなコネクションを介してデータ送信するには、1つまたはそれ以上のストリームを作成し、使用する必要があります。

## コネクション ID

それぞれのコネクションは、1つのコネクション識別子(またはコネクション ID)のセットを所有していて、コネクションを識別するためにいずれかのセットを使用することができます。コネクション ID はエンドポイントにより独立して選ばれます。各エンドポイントは、ピアが使用するコネクション ID を選択します。

これらのコネクション ID の主な機能は、下位のプロトコル層(UDP、IP、 及びそれ以下)でのアドレッシングの変更が、QUIC コネクションのパケットを間違ったエンドポイントに配信しないようにすることです。

コネクション ID を利用することにより、TCP が絶対にできない方法で、IP アドレスとネットワークインターフェースの間でコネクションを移行することができます。 例えば、ユーザーがデバイスの場所をWi-Fiが提供される場所に移動するとき、マイグレーションのおかげで、進行中のダウンロードはモバイルネットワークからより速いWi-Fiに変更できます。同様に、もしWi-Fiが利用不可能になったならば、ダウンロードはモバイルネットワークを経由して再開できます。

## ポート番号

QUIC は UDP の最上層に組み込まれているので、16bit のポート番号フィールドは、入コネクションを区別するために使用されています。

## バージョンネゴシエーション

クライアントからの QUIC コネクションリクエストでは、どの QUIC プロトコルバージョンを使用するかサーバーに通知します。サーバーは、クライアントが次に進む際に選択できるように、自身のサポートしているバージョンのリストを返答します。
