## TCP あるいは UDP

TCP の head of line ブロッキングを直せないのであれば、
理論的には新しいトランスポートプロトコルをネットワークスタックの中、
UDP と TCP の隣に作れるようになるべきです。
もしくは 最悪 [SCTP](https://en.wikipedia.org/wiki/Stream_Control_Transmission_Protocol) を使うべきかもしれません。
SCTP は [RFC18 4960](https://tools.ietf.org/html/rfc4960) の中で IETF によって標準化されたトランスポートプロトコルで、
いくつかの期待通りの特徴を持っています。

また一方で、近年新規のトランスポートプロトコルを作る取り組みはほとんどすべて停止していました。
何故ならインターネット上に実際にデプロイすることが難しいと認識されていたからです。
ファイアーウォールの量、NAT、ルーター、その他 TCP もしくは UDP についてのみ知っている、
そして許可していユーザーとサーバーの間に存在するミドルボックスはとても多すぎます。
他のトランスポートプロトコルを導入することは N% のコネクションを失敗させることになります。
何故なら UDP もしくは TCPではないものは何らかの形で不正もしくは間違っていると捉えるボックスによってブロックされるからです。
通常 N% の失敗率は努力に対してあまりにも高いとみなされます。

加えて、通常ネットワークスタックのトランスポートプロトコルレイヤの中を変更することはオペレーティング・システムのカーネルによって実装されているプロトコルを変更することを意味しています。オペレーティング・システムのカーネルを変更することはとても遅いプロセスで、努力や後押しを必要とします。近年 TCP の特徴は IETF によって標準化されてきました。それにもかかわらず、十分に広くサポートされていないため、多くの年月が経った後も広くデプロイされたり使用されていません。

## なぜ STCP-over-UDP ではないのか
SCTP はストリームを用いた信頼性のあるプロトコルで、WebRTC には UDP上で動作する実装さえ存在します。

これは QUIC に取って代わるものとして十分ではありませんでした。以下を含む幾つかの理由に原因があります。

 - SCTP はストリームの head-of-line-blocking 問題を解決しません
 - SCTP はコネクションのセットアップに多数の解決すべきストリームを要求します
 - SCTP は 確かな TLS/security ストーリーを持ちません
 - SCTP は 4-way handshake を使用し、QUIC は 0-RTT を提供します
 - QUIC は TCP 同様バイトストリームです。SCTP はメッセージベースです
 - QUIC は IP アドレス間で移動することができますが、SCTP はできません

更なる詳細と違いについては、
[A Comparison between SCTP and
QUIC](https://tools.ietf.org/html/draft-joseph-quic-comparison-quic-sctp-00)
 インターネットドラフトが参考になります。
